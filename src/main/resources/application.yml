server:
  port: 13009

spring:
  profiles:
    default: local
  jackson.default-property-inclusion: non_null
  devtools.livereload.enable: true

management:
  server:
    port: 13119
  endpoints:
    jmx:
      exposure:
        exclude: "*"
    web:
      base-path: "/fcm/actuator"
      exposure:
        include: "health,metrics,prometheus"

jasypt.encryptor.env.name: JASYPT_ENCRYPTOR_PASSWORD

---
spring:
  config:
    activate:
      on-profile:
        - local
  pid.file: ./application.pid
  h2:
    console:
      enabled: true
      path: /h2-console
  datasource:
    driverClassName: org.h2.Driver
    url: jdbc:h2:mem:testdb
    username: sa
    password:
    hikari:
      connection-timeout: 30000
      maximum-pool-size: 2

  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    open-in-view: false
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        format_sql: true
        use_sql_comments: true

fcm-apps:
  -
    name: ecobridge
    google-application-credentials: ./keys/serviceAccountKey-ecobridge.json
    connection-timeout: 3
    read-timeout: 5
    db-push: true  # true: db fcm send
    db-minus-time: 5m  # 5s 5 seconds , 5m 5 minutes, 5h 5 hours, 2d 2 days  => row created_time >=  now() - (minus time)
#  -
#    name: postgresql
#    google-application-credentials: ./keys/serviceAccountKey-postgresql.json
#    connection-timeout: 3
#    read-timeout: 5

---
spring:
  config:
    activate:
      on-profile:
        - dev
  pid.file: "./application.pid"
  datasource:
    url: ENC(DfolngJOvmVHdU6JsObUg2mtU0+kcbcjYBaWv6C7jkozTWiIGYADxy3QtqwXxzU7HVAq495iqM6KsuMJsI5L3AhRLmG6wa6n8IhIF4gs0bs=)
    username: ENC(bVlmVthKcLKTpvRC4g+i4PzjWSfDRNv1RA4nE9IGWr677LqrebcPYZ8Rr6x2tHWS)
    password: ENC(oJxdyDfYlbmNfvm7ebuVIUChDDOp9lxgBaeQZ09/E9Payhetk73hAYPGVy4+okj0)
    driver-class-name: org.postgresql.Driver
    hikari:
      connection-timeout: 30000
      maximum-pool-size: 10

  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
        show_sql: true
        use_sql_comments: true

fcm-apps:
  -
    name: ecobridge
    google-application-credentials: ./keys/serviceAccountKey-ecobridge.json
    connection-timeout: 3
    read-timeout: 5
    db-push: false  # true: db insert fcm send
    db-minus-time: 5m  # 5s 5 seconds , 5m 5 minutes, 5h 5 hours  => row created_time >=  now() - (minus time)

---
spring:
  config:
    activate:
      on-profile:
        - prod
  pid.file: "./application.pid"
  datasource:
    url: ENC(DfolngJOvmVHdU6JsObUg2mtU0+kcbcjYBaWv6C7jkozTWiIGYADxy3QtqwXxzU7HVAq495iqM6KsuMJsI5L3AhRLmG6wa6n8IhIF4gs0bs=)
    username: ENC(bVlmVthKcLKTpvRC4g+i4PzjWSfDRNv1RA4nE9IGWr677LqrebcPYZ8Rr6x2tHWS)
    password: ENC(oJxdyDfYlbmNfvm7ebuVIUChDDOp9lxgBaeQZ09/E9Payhetk73hAYPGVy4+okj0)
    driver-class-name: org.postgresql.Driver
    hikari:
      connection-timeout: 30000
      maximum-pool-size: 20

  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: false
        show_sql: false
        use_sql_comments: false

fcm-apps:
  -
    name: ecobridge
    google-application-credentials: ./keys/serviceAccountKey-ecobridge.json
    connection-timeout: 3
    read-timeout: 5
    db-push: false  # true: db insert fcm send
    db-minus-time: 5m  # 5s 5 seconds , 5m 5 minutes, 5h 5 hours  => row created_time >=  now() - (minus time)
